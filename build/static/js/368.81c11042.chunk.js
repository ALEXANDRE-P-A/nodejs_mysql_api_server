"use strict";(self.webpackChunkreact_todo_app=self.webpackChunkreact_todo_app||[]).push([[368],{107:(e,t,a)=>{a.d(t,{$:()=>o});var s=a(154);const d="https://nodejs-mysql-api-server-89c2f3154f98.herokuapp.com/todos",o={getAll:async()=>(await s.A.get(d)).data,post:async e=>(await s.A.post(d,e)).data,update:async e=>(await s.A.patch(d+"/"+e.id,e)).data,delete:async e=>(await s.A.delete(d+"/"+e.id)).data}},368:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(715),d=a(43),o=a(579);const n=(0,d.lazy)((e=>a.e(990).then(a.bind(a,990)))),r=e=>{const t=(0,s.k3)();return(0,o.jsx)("div",{className:"todos",children:t.map(((e,t)=>(0,o.jsx)(d.Suspense,{fallback:(0,o.jsx)("div",{style:{padding:"20px",color:"#fff",fontWeight:"bold",fontSize:".8em"},children:"Loading Component ....."}),children:(0,o.jsx)(n,{todo:e},t)})))})};var i=a(107),c=a(863);const l=e=>{const[t,a]=(0,d.useState)(""),n=(0,s.ST)();return(0,o.jsx)("div",{className:"add-form",children:(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault();const s={id:Math.floor(1e5*Math.random()),content:t,editing:!1};i.$.post(s).then((e=>{const t={...e[0],editing:Boolean(e[0].editing)};n({type:"todo/add",todo:t})})).then((e=>{c.s.emit("message","")})),a("")},children:[(0,o.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value)}),(0,o.jsx)("button",{type:"submit",style:{marginLeft:"5px"},children:"add"})]})})},p=e=>(0,o.jsx)("div",{className:"content",children:(0,o.jsxs)(s.aY,{children:[(0,o.jsx)(r,{}),(0,o.jsx)(l,{})]})}),u=e=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(p,{})})},715:(e,t,a)=>{a.d(t,{ST:()=>p,aY:()=>c,k3:()=>l});var s=a(43),d=a(107),o=a(579);const n=(0,s.createContext)(),r=(0,s.createContext)(),i=(e,t)=>{let{type:a,todo:s}=t;switch(a){case"todo/init":return[...s];case"todo/add":return[...e,s];case"todo/delete":return e.filter((e=>e.id!==s.id));case"todo/update":return e.map((e=>e.id===s.id?{...e,...s}:{...e}));default:return e}},c=e=>{let{children:t}=e;const[a,c]=(0,s.useReducer)(i,[]);return(0,s.useEffect)((e=>{d.$.getAll().then((e=>{c({type:"todo/init",todo:e})}))}),[]),(0,o.jsx)(n.Provider,{value:a,children:(0,o.jsx)(r.Provider,{value:c,children:t})})},l=e=>(0,s.useContext)(n),p=e=>(0,s.useContext)(r)},863:(e,t,a)=>{a.d(t,{s:()=>s});const s=(0,a(749).io)("https://nodejs-mysql-api-server-89c2f3154f98.herokuapp.com/")}}]);
//# sourceMappingURL=368.81c11042.chunk.js.map