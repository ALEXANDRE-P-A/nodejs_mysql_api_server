{"version":3,"file":"static/js/990.c8b0d1d5.chunk.js","mappings":"4LAKA,MAoDA,EApDaA,IAAe,IAAd,KAAEC,GAAMD,EAEpB,MAAQE,EAAgBC,IAAsBC,EAAAA,EAAAA,UAASH,EAAKI,SACtDC,GAAWC,EAAAA,EAAAA,MAwBjB,OACEC,EAAAA,EAAAA,MAAA,OAAqBC,UAAU,OAAMC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UACEC,KAAK,SACLC,QA1BWC,IACfC,EAAAA,EAAQC,OAAOf,GACdgB,MAAKH,IACJI,EAAAA,EAAOC,KAAK,cAAelB,EAAK,GAChC,EAsBsBS,SACrB,cACDC,EAAAA,EAAAA,KAAA,QACEF,UAAU,sBACVW,SAAWC,GAlBKA,KACpBA,EAAEC,iBACF,MAAMC,EAAU,IAAKtB,EAAMI,QAASH,EAAgBsB,SAAS,GAC7DT,EAAAA,EAAQU,OAAOF,GACdN,MAAKS,IACJ,MAAMH,EAAU,IAAKG,EAAS,GAAIF,SAAS,GAC3CN,EAAAA,EAAOC,KAAK,cAAeI,EAAS,GACpC,EAWkBI,CAAcN,GAAIX,SAGhCT,EAAKuB,SACDb,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLgB,MAAQ1B,EACR2B,SAAWR,GAAKlB,EAAkBkB,EAAES,OAAOF,OAC3CG,MAAO,CAAEC,WAAY,UAEtBrB,EAAAA,EAAAA,KAAA,QAAMsB,cAjCInB,IACpB,MAAMS,EAAU,IAAKtB,EAAMuB,SAAS,GACpClB,EAAS,CAAEM,KAAM,cAAeX,KAAMsB,GAAU,EA+BDb,SAAGT,EAAKI,cAjB5CJ,EAAKiC,GAoBV,C","sources":["components/Item.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTodoDispatch } from \"../context/TodoContext.js\";\r\nimport { todoApi } from \"../Api/TodoApi.js\";\r\nimport { socket } from \"../socket.js\";\r\n\r\nconst Item = ({ todo }) => {\r\n\r\n  const [ editingContent, setEditingContent ] = useState(todo.content);\r\n  const dispatch = useTodoDispatch();\r\n\r\n  const complete = _ => {\r\n    todoApi.delete(todo)\r\n    .then(_ => {\r\n      socket.emit(\"todo/delete\", todo);\r\n    });\r\n  };\r\n\r\n  const toggleEditing = _ => {\r\n    const newTodo = { ...todo, editing: true }\r\n    dispatch({ type: \"todo/update\", todo: newTodo });\r\n  };\r\n\r\n  const confirmUpdate = e => {\r\n    e.preventDefault();\r\n    const newTodo = { ...todo, content: editingContent, editing: false };\r\n    todoApi.update(newTodo)\r\n    .then(response => {\r\n      const newTodo = { ...response[0], editing: false };\r\n      socket.emit(\"todo/update\", newTodo );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div key={ todo.id } className=\"todo\">\r\n      <button \r\n        type=\"button\"\r\n        onClick={ complete }\r\n      >complete</button>\r\n      <form\r\n        className=\"update-content-form\"\r\n        onSubmit={ e => confirmUpdate(e) }\r\n      >\r\n        {\r\n          todo.editing \r\n            ? <input\r\n               type=\"text\"\r\n               value={ editingContent }\r\n               onChange={ e => setEditingContent(e.target.value) }\r\n               style={{ marginLeft: \"5px\" }}\r\n              />\r\n            : <span onDoubleClick={ toggleEditing }>{ todo.content }</span>\r\n        }\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;"],"names":["_ref","todo","editingContent","setEditingContent","useState","content","dispatch","useTodoDispatch","_jsxs","className","children","_jsx","type","onClick","_","todoApi","delete","then","socket","emit","onSubmit","e","preventDefault","newTodo","editing","update","response","confirmUpdate","value","onChange","target","style","marginLeft","onDoubleClick","id"],"sourceRoot":""}