{"version":3,"file":"static/js/990.6f3c194c.chunk.js","mappings":"4LAKA,MAsEA,EAtEaA,IAAe,IAAd,KAAEC,GAAMD,EAEpB,MAAQE,EAAgBC,IAAsBC,EAAAA,EAAAA,UAASH,EAAKI,SACtDC,GAAWC,EAAAA,EAAAA,MAEjBC,EAAAA,EAAOC,GAAG,WAAWC,IACnBC,OAAOC,SAASC,QAAQ,IAuC1B,OACEC,EAAAA,EAAAA,MAAA,OAAqBC,UAAU,OAAMC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UACEC,KAAK,SACLC,QAxCWT,IACfU,EAAAA,EAAQC,OAAOpB,GACdqB,MAAKZ,IACJJ,EAAS,CAAEY,KAAM,cAAejB,QAAO,IAExCqB,MAAKZ,IACJF,EAAAA,EAAOe,KAAK,UAAW,GAAG,GAC1B,EAiCsBP,SACrB,cACDC,EAAAA,EAAAA,KAAA,QACEF,UAAU,sBACVS,SAAWC,GAvBKA,KACpBA,EAAEC,iBACF,MAAMC,EAAU,IAAK1B,EAAMI,QAASH,EAAgB0B,SAAU3B,EAAK2B,SACnER,EAAAA,EAAQS,OAAOF,GACdL,MAAKQ,IACJ,MAAMC,EAAaC,QAAQF,EAAS,GAAGF,SACvCK,QAAQC,IAAIH,GACZ,MAAMJ,EAAU,IAAKG,EAAS,GAAIF,QAASG,GAC3CzB,EAAS,CAAEY,KAAM,cAAejB,KAAM0B,GAAU,IAEjDL,MAAKZ,IACJF,EAAAA,EAAOe,KAAK,UAAW,GAAG,GAC1B,EAWkBY,CAAcV,GAAIT,SAGhCf,EAAK2B,SACDX,EAAAA,EAAAA,KAAA,SACCC,KAAK,OACLkB,MAAQlC,EACRmC,SAAWZ,GAAKtB,EAAkBsB,EAAEa,OAAOF,OAC3CG,MAAO,CAAEC,WAAY,UAEtBvB,EAAAA,EAAAA,KAAA,QAAMwB,cA5CI/B,IACpB,MAAMiB,EAAU,IAAK1B,EAAM2B,SAAU3B,EAAK2B,SAC1CR,EAAAA,EAAQS,OAAOF,GACdL,MAAKQ,IACJ,MAAMC,EAAaC,QAAQF,EAAS,GAAGF,SACvCK,QAAQC,IAAIH,GACZ,MAAMJ,EAAU,IAAKG,EAAS,GAAIF,QAASG,GAC3CzB,EAAS,CAAEY,KAAM,cAAejB,KAAM0B,GAAU,GAChD,EAoC6CX,SAAGf,EAAKI,cAjB5CJ,EAAKyC,GAoBV,C","sources":["components/Item.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTodoDispatch } from \"../context/TodoContext.js\";\r\nimport { todoApi } from \"../Api/TodoApi.js\";\r\nimport { socket } from \"../socket.js\";\r\n\r\nconst Item = ({ todo }) => {\r\n\r\n  const [ editingContent, setEditingContent ] = useState(todo.content);\r\n  const dispatch = useTodoDispatch();\r\n\r\n  socket.on(\"message\", _ => {\r\n    window.location.reload();\r\n  });\r\n\r\n  const complete = _ => {\r\n    todoApi.delete(todo)\r\n    .then(_ => {\r\n      dispatch({ type: \"todo/delete\", todo });\r\n    })\r\n    .then(_ => {\r\n      socket.emit(\"message\", \"\");\r\n    });\r\n  };\r\n\r\n  const toggleEditing = _ => {\r\n    const newTodo = { ...todo, editing: !todo.editing }\r\n    todoApi.update(newTodo)\r\n    .then(response => {\r\n      const newEditing = Boolean(response[0].editing);\r\n      console.log(newEditing);\r\n      const newTodo = { ...response[0], editing: newEditing };\r\n      dispatch({ type: \"todo/update\", todo: newTodo });\r\n    });\r\n  };\r\n\r\n  const confirmUpdate = e => {\r\n    e.preventDefault();\r\n    const newTodo = { ...todo, content: editingContent, editing: !todo.editing };\r\n    todoApi.update(newTodo)\r\n    .then(response => {\r\n      const newEditing = Boolean(response[0].editing);\r\n      console.log(newEditing);\r\n      const newTodo = { ...response[0], editing: newEditing };\r\n      dispatch({ type: \"todo/update\", todo: newTodo });\r\n    })\r\n    .then(_ => {\r\n      socket.emit(\"message\", \"\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div key={ todo.id } className=\"todo\">\r\n      <button \r\n        type=\"button\"\r\n        onClick={ complete }\r\n      >complete</button>\r\n      <form\r\n        className=\"update-content-form\"\r\n        onSubmit={ e => confirmUpdate(e) }\r\n      >\r\n        {\r\n          todo.editing \r\n            ? <input\r\n               type=\"text\"\r\n               value={ editingContent }\r\n               onChange={ e => setEditingContent(e.target.value) }\r\n               style={{ marginLeft: \"5px\" }}\r\n              />\r\n            : <span onDoubleClick={ toggleEditing }>{ todo.content }</span>\r\n        }\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;"],"names":["_ref","todo","editingContent","setEditingContent","useState","content","dispatch","useTodoDispatch","socket","on","_","window","location","reload","_jsxs","className","children","_jsx","type","onClick","todoApi","delete","then","emit","onSubmit","e","preventDefault","newTodo","editing","update","response","newEditing","Boolean","console","log","confirmUpdate","value","onChange","target","style","marginLeft","onDoubleClick","id"],"sourceRoot":""}